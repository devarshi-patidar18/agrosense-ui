<div class="dashboard-container">
  <!-- Header -->
  <header class="navbar">
    <h1 class="logo">ðŸŒ±</h1>

    <!-- Search Box -->
    <div class="search-box">
      <input type="text" placeholder="Search..." [(ngModel)]="datastoreService.searchQueryGlobal" (ngModelChange)="onSearchChange($event)" 
      (click)="onSearchClick()"/>
    </div>

    <button class="logout-btn" [routerLink]="datastoreService.isUserLoggedIn ? '/logout' : '/login'">
      {{datastoreService.isUserLoggedIn ? 'Logout' : 'Login'}}</button>
  </header>

  <div class="main-layout">
    <!-- Sidebar (Main Navigation) -->
    <aside class="sidebar">
      <nav>
        <p routerLink="/">{{this.datastoreService.loggedInUser.name}} </p>
        @for (item of sideMenuItems; track $index) {
          <a (click)="selectedSideBarItem(item.id)" [class.active]="this.sideMenuItem == item.label">{{item.label}}</a>
        }
      </nav>
    </aside>
    

    <!-- Main Content -->
    <main class="content">
      @if (this.sideMenuItem == "Dashboard") {
        <app-dashboard></app-dashboard>
      }
      <!-- @if (this.sideMenuItem == "Users") {
        <app-users></app-users>
      } -->
      @else if (this.sideMenuItem == "Labour") {
        <app-labour></app-labour>
      }
      @else if (this.sideMenuItem == "Crops") {
        <app-crops></app-crops>
      }
      @else if (this.sideMenuItem == "Weather") {
        <app-weather></app-weather>
      }
      @else if (this.sideMenuItem == "Reports") {
        <app-reports></app-reports>
      }
      @if ((this.datastoreService.searchQueryGlobal != '')) {
        <!-- search -->
        <app-searchpage></app-searchpage>
        <!-- Display search results here -->
      }
      <!-- @else {
        <p class="welcome-message">Welcome to AgroSense! Please select an option from the sidebar.</p>
      } -->
    
    </main>

  </div>
</div>
